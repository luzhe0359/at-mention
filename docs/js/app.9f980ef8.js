(function(n){function t(t){for(var o,s,a=t[0],c=t[1],u=t[2],p=0,d=[];p<a.length;p++)s=a[p],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&d.push(i[s][0]),i[s]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(n[o]=c[o]);l&&l(t);while(d.length)d.shift()();return r.push.apply(r,u||[]),e()}function e(){for(var n,t=0;t<r.length;t++){for(var e=r[t],o=!0,a=1;a<e.length;a++){var c=e[a];0!==i[c]&&(o=!1)}o&&(r.splice(t--,1),n=s(s.s=e[0]))}return n}var o={},i={app:0},r=[];function s(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=n,s.c=o,s.d=function(n,t,e){s.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:e})},s.r=function(n){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},s.t=function(n,t){if(1&t&&(n=s(n)),8&t)return n;if(4&t&&"object"===typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var o in n)s.d(e,o,function(t){return n[t]}.bind(null,o));return e},s.n=function(n){var t=n&&n.__esModule?function(){return n["default"]}:function(){return n};return s.d(t,"a",t),t},s.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},s.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var l=c;r.push([0,"chunk-vendors"]),e()})({0:function(n,t,e){n.exports=e("56d7")},"034f":function(n,t,e){"use strict";e("85ec")},"56d7":function(n,t,e){"use strict";e.r(t);e("e260"),e("e6cf"),e("cca6"),e("a79d");var o=e("2b0e"),i=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{attrs:{id:"app"}},[e("index")],1)},r=[],s=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",[e("van-nav-bar",{attrs:{title:"at-mention @功能"}}),e("van-notice-bar",{attrs:{"left-icon":"volume-o",text:"基于vue2.x + vant2.x 实现的@功能(稍作修改即可支持原生js和react)，兼容pc和手机端，如有bug，欢迎提出~"}}),e("at-mention"),e("van-notice-bar",{attrs:{color:"#999",background:"#ecf9ff","left-icon":"info-o",wrapable:""}},[n._v(" pc端用户请注意，浏览器切换至手机调试模式时，会导致@功能无效(代码会判断当前设备为移动端)，请手动拖动浏览器窗口大小或使用手机调试。 ")])],1)},a=[],c=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{attrs:{id:"at"}},[e("van-row",[e("van-col",{attrs:{span:"24"}},[n._v("是否为 中文输入法状态："+n._s(n.isChineseInputMethod))]),e("van-col",{attrs:{span:"24"}},[n._v("是否为 点击@按钮打开菜单弹框：: "+n._s(n.isClickMention))])],1),e("van-row",[e("van-col",{attrs:{span:"24"}},[n._v(" 打开@菜单弹框： "),e("van-button",{attrs:{type:"info",size:"small"},on:{click:n.openPopup}},[n._v("Show @ Menu")])],1),e("van-col",{attrs:{span:"24"}},[n._v(" 以编程方式@某人： "),e("van-button",{attrs:{type:"warning",size:"small"},on:{click:function(t){return n.insertItem(n.userList[0])}}},[n._v("Add Mention Programmatically")])],1)],1),e("quill-editor",{ref:"myQuillEditor",staticClass:"editor",attrs:{options:n.editorOption},nativeOn:{compositionstart:function(t){return n.onCompositionstart.apply(null,arguments)},compositionend:function(t){return n.onCompositionend.apply(null,arguments)},keydown:function(t){return n.onKeyDownInput.apply(null,arguments)},keyup:function(t){return n.onKeyUpInput.apply(null,arguments)}},model:{value:n.content,callback:function(t){n.content=t},expression:"content"}}),e("div",{attrs:{id:"toolbar"}}),e("van-popup",{style:{height:"40%"},attrs:{id:"edit",round:"",position:"bottom"},on:{close:n.closePopup},model:{value:n.show,callback:function(t){n.show=t},expression:"show"}},[e("van-search",{attrs:{placeholder:"请输入搜索关键词"},on:{search:n.onSearch},scopedSlots:n._u([{key:"action",fn:function(){return[e("van-button",{attrs:{type:"warning",size:"small"},on:{click:n.onSearch}},[n._v("搜索")])]},proxy:!0}]),model:{value:n.search,callback:function(t){n.search=t},expression:"search"}}),e("van-cell-group",n._l(n.userList,(function(t){return e("van-cell",{key:t.id,attrs:{title:"编号为："+t.id,value:"用户名为："+t.name},on:{click:function(e){return n.selectItem(t)}}})})),1)],1)],1)},u=[],l=(e("ac1f"),e("466d"),e("841c"),e("d81d"),e("cb29"),e("99af"),e("b0c0"),e("953d")),p=(e("8096"),e("83d3"),{name:"at-mention",components:{quillEditor:l["quillEditor"]},data:function(){return{content:"",isClickMention:!1,isChineseInputMethod:!1,show:!1,editorOption:{placeholder:"说点什么呢。。。",modules:{toolbar:{container:"#toolbar"},history:{delay:0},mention:{allowedChars:/^[A-Za-z\sÅÄÖåäö]*$/,mentionDenotationChars:["@","#"],source:function(n,t,e){console.log(n,t,e),t([],n)}}}},search:"",userList:[{name:"小张",id:"001"},{name:"小李",id:"002"},{name:"小安",id:"003"},{name:"小发",id:"004"},{name:"小刚",id:"005"}]}},computed:{editor:function(){return this.$refs.myQuillEditor.quill}},methods:{onCompositionstart:function(){this.isChineseInputMethod=!0},onCompositionend:function(){this.isChineseInputMethod=!1},onKeyDownInput:function(n){!this.isChineseInputMethod&&this.isAtCode(n)&&(this.show=!0)},onKeyUpInput:function(n){!this.isChineseInputMethod&&this.isAtCode(n)&&this.editor.blur()},isMobile:function(){return navigator.userAgent.match(/(iPhone|iPod|Android|ios|iOS|iPad|Backerry|WebOS|Symbian|Windows Phone|Phone)/i)},isAtCode:function(n){return this.isMobile()?(229===n.keyCode||50===n.keyCode)&&"Digit2"===n.code&&"@"===n.key:(50===n.keyCode&&"@"===n.key||229===n.keyCode&&"Digit2"===n.code)&&n.shiftKey},openPopup:function(){this.show=!0,this.isClickMention=!0},closePopup:function(){this.show=!1,this.search="",this.isClickMention=!1},onSearch:function(n){this.userList=new Array(10).fill(5).map((function(t,e){return{name:"".concat(n," - ").concat(e),id:e}}))},selectItem:function(n){this.isClickMention||this.undo(),this.insertItem(n),this.show=!1},insertItem:function(n){var t=this.editor.getModule("mention");t.insertItem({id:n.id,value:n.name,denotationChar:"@"},!0)},undo:function(){this.editor.history.undo()}}}),d=p,f=(e("f343"),e("2877")),h=Object(f["a"])(d,c,u,!1,null,null,null),m=h.exports,v={name:"index",components:{atMention:m}},y=v,b=Object(f["a"])(y,s,a,!1,null,null,null),w=b.exports,k={name:"App",components:{index:w}},C=k,g=(e("034f"),Object(f["a"])(C,i,r,!1,null,null,null)),_=g.exports,M=e("b970");e("157a");o["a"].use(M["a"]),o["a"].config.productionTip=!1,new o["a"]({render:function(n){return n(_)}}).$mount("#app")},"85ec":function(n,t,e){},"99ce":function(n,t,e){},f343:function(n,t,e){"use strict";e("99ce")}});
//# sourceMappingURL=app.9f980ef8.js.map